### 第一阶段：构建"业务大脑"与规则标准 (Day 1)

这是最重要的一步，决定了 AI 查数据时是"瞎猜"还是"懂业务"。

1. **初始化 `CLAUDE.md`**：在 `demo` 目录下生成项目宪法，明确规定：
   - **模型约束**：明确使用 GLM API，并设定针对 GLM 优化的 System Prompt 模板。
   - **开发规范**：遵循父目录逻辑，但产出必须符合你 11 年 PM 经验的 B 端严谨度。

2. **定义数据模型 (Schema)**：
   - 使用 Prisma 建立客户（Customer）、订单（Order）、财务（Finance）三张 Mock 表。

3. **编写语义字典 (Semantic Dict)**：
   - 手动创建 `data/semantic_dict.json`，定义"毛利"、"欠款"的计算公式及字段权限等级（L0/L1）。
   - ✅ **DONE - 2026-02-10**：最终封版，包含计算鲁棒性、权限控制、前端引导和查询约束。

### 第二阶段：开发"安全心脏" (Day 2)

解决 AI "越权"和"幻觉"的问题。

1. **编写权限拦截器 (Security Interceptor)**：
   - 实现核心逻辑：根据用户角色（Admin/Sales）动态重写 AI 生成的查询意图。

2. **实现 Text-to-SQL 逻辑**：
   - 配置 GLM 的提示词，使其学会结合 `semantic_dict.json` 生成 SQL。
   - **关键点**：强制在 SQL 后端追加 `WHERE owner_id = current_user`。

### 第三阶段：打造"全能工作台" (Day 3)

将逻辑具象化，利用你的 `ui-ux-pro-max` 技能提升演示溢价。

1. **三栏式布局开发**：
   - **左侧**：配置与身份切换（看配置如何影响结果）。
   - **中间**：对话与 **COT（思维链）展示**（展示 AI 拦截权限的过程）。
   - **右侧**：数据图表（Recharts）与 SQL 源码。

2. **前后端联调**：确保在界面修改配置，AI 查询立即生效。

### 第四阶段：适配、调优与演示准备 (Day 4)

1. **GLM 深度适配**：针对 GLM 的回复格式进行微调，确保 SQL 提取 100% 准确。
2. **演示录制**：准备好三个"杀手锏"演示剧本（权限拦截、口径修改、多表关联）。